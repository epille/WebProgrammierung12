<!DOCTYPE html>
<html lang="en">
<head>
<title>Bootstrap Case</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet"
	href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
<script
	src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</head>


<body>

	<nav class="navbar navbar-default">
		<div class="container-fluid">
			<div class="navbar-header">
				<a class="navbar-brand" href="index.html">Goethe Sport</a>
			</div>
			<ul class="nav navbar-nav">
				<li class="active"><a href="index.html">Home</a></li>
				<li><a href="any.jsp">Events</a></li>
				<li><a href="http://localhost:80/Sportfest/db/results.php">Results</a></li>
				<li><a href="http://localhost:8080/WebProgrammierung/maps.html">Maps</a></li>
				<li><a href="about.html">About</a></li>
			</ul>
			<ul class="nav navbar-nav navbar-right">
				<li><a href="register.html"><span
						class="glyphicon glyphicon-user"></span> Sign Up</a></li>
				<li><a href="logon.html"><span
						class="glyphicon glyphicon-log-in"></span> Login</a></li>
			</ul>
		</div>
	</nav>

	<div id="myCarousel" class="carousel slide" data-ride="carousel">
		<!-- Indicators -->
		<ol class="carousel-indicators">
			<li data-target="#myCarousel" data-slide-to="0" class="active"></li>
			<li data-target="#myCarousel" data-slide-to="1"></li>
			<li data-target="#myCarousel" data-slide-to="2"></li>
			<li data-target="#myCarousel" data-slide-to="3"></li>
		</ol>

		<!-- Wrapper for slides -->
		<div class="carousel-inner" role="listbox">
			<div class="item active">
				<img src="images/sport.jpg" alt="Chania">
			</div>

			<div class="item">
				<img src="images/logo_Goethe_Gymnasium.jpg" alt="Chania">
			</div>

			<div class="item">
				<img src="images/sport.jpg" alt="Flower">
			</div>

			<div class="item">
				<img src="images/sport.jpg" alt="Flower">
			</div>
		</div>

		<!-- Left and right controls -->
		<a class="left carousel-control" href="#myCarousel" role="button"
			data-slide="prev"> <span class="glyphicon glyphicon-chevron-left"
			aria-hidden="true"></span> <span class="sr-only">Previous</span>
		</a> <a class="right carousel-control" href="#myCarousel" role="button"
			data-slide="next"> <span
			class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
			<span class="sr-only">Next</span>
		</a>
	</div>

	<div class="text-field" id="welcome_text">
		<h3>Hallo Gast. Willkommen auf der Sportveranstaltungsseite des
			Goethe Gymnasium Bensheims.</h3>

	</div>

	<div class="row">
		<div class="col-sm-4">
			<a href="https://twitter.com/intent/tweet?button_hashtag=Goethe"
				class="twitter-hashtag-button" data-show-count="false">Tweet
				#Goethe</a>
			<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
		</div>
		<div class="col-sm-4"></div>
		<div class="col-sm-4">
			<a class="twitter-timeline" href="https://twitter.com/luisalvaradox"
				data-widget-id="605466402049409025">Tweets by @luisalvaradox</a>
		</div>
	</div>


	<div></div>
	<script>
		!function(d, s, id) {
			var js, fjs = d.getElementsByTagName(s)[0], p = /^http:/
					.test(d.location) ? "http" : "https";
			if (!d.getElementById(id)) {
				js = d.createElement(s);
				js.id = id;
				js.src = p + "://platform.twitter.com/widgets.js";
				fjs.parentNode.insertBefore(js, fjs);
			}
		}(document, "script", "twitter-wjs");
	</script>



	<script>

		function drawCanvas() {
			var canvas = document.getElementById('testcanvas1');
			if (canvas.getContext) {
				var context = canvas.getContext('2d');
				context.fillStyle = "rgb(0, 0, 255)";
				context.fillRect(0, 0, canvas.width, canvas.height);
			}
		}
		
		function getNamefromCookie(){
			$.ajax({
			       url: '/Sportfest/cookie/cookies.php',
			       data: {
			    	function: "get_name"   
			       },
			       type: "POST",
			       success: function(response){
			          console.log("SUCCESS: " + response);
			          welcome_text.innerHTML = "<h3>Hallo " +  response  + ". Willkommen auf der Sportveranstaltungsseite des Goethe Gymnasium Bensheims.</h3>";
			      		if(response == "Gast"){
			      			var name = prompt("Wir würden Sie gerne kennen lernen. Bitte geben Sie Ihren Vornamen für ein personalisiertes Websiteverhalten ein. Ihre Daten werden nicht weitervergeben.", "");
			      			if (name != null) {
			      			    setNameOnCookie(name);
			      			  getNamefromCookie();
			      			}	
			      		}
			       },
			       error: function () {
			          console.log("Calling php script failed.");
			       }
			   });
		}
		
		function setNameOnCookie(name) {
			$.ajax({
			       url: '/Sportfest/cookie/cookies.php',
			       data: {
			    	function: "set_name",
			    	name: name
			       },
			       type: "POST",
			       success: function(response){
			          console.log("SUCCESS: " + response);  
			       },
			       error: function () {
			          console.log("Calling php script failed.");
			       }
			   });
		}
		
	
		getNamefromCookie();
		

		window.onload = function() {
/* 			var canvas = document.getElementById("testcanvas1");
			var ctx = canvas.getContext("2d");
			var img = document.getElementById("img2");
			ctx.drawImage(img, 10, 10); */
		};
	</script>

</body>
</html>
